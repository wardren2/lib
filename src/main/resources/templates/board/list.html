<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{common/layout :: layout(~{::title}, ~{::content}, ~{::css}, ~{::scripts})}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <th:block th:fragment="css">
        <style>
            /* === í—¤ë” ì˜ì—­ ===*/
            .board-header {
                display: flex;
                justify-content: space-between;     /*ìì‹ ìš”ì†Œë¥¼ ì–‘ìª½ ëìœ¼ë¡œ ë°°ì¹˜*/
                align-items: center;                /*ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬*/
                margin-bottom: 30px;
                padding-bottom: 20px;
                border-bottom: 2px solid #333;
            }

            .total-count {
                font-size: 16px;
                color: #495057;
            }

            .total-count strong {
                color: #007bff;
                font-size: 18px;
            }

            /*ê¸€ì“°ê¸° ë²„íŠ¼*/
            .btn-write {
                padding: 10px 20px;
                background-color: #007bff;
                color:white;
                border: none;
                border-radius: 4px;
                text-decoration: none;
                font-weight: 500;
                transition: background-color 0.2s;
            }
            .btn-write:hover {
                background-color: #0056b3;
                cursor: pointer;
            }

            /*=== ê²Œì‹œê¸€ í…Œì´ë¸” ===*/
            .board-table {
                width: 100%;                /* ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
                border-collapse: collapse;   /* í…Œë‘ë¦¬ ê²¹ì¹¨ ì œê±° */
                margin-bottom: 20px;
            }

            .board-table thead {

            }

            .board-table th {
                text-align: center;         /* í—¤ë” í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ */
                vertical-align: middle;     /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
                font-weight: bold;
                padding: 12px 10px;
                background-color: #f8f9fa;
                border-bottom: 2px solid #dee2eb;
            }

            .board-table td {
                padding: 15px 10px;
                vertical-align: middle;
            }

            .board-table tbody tr {
                border-bottom: 1px solid #e9ecef;
                transition: background-color 0.2s;      /* í˜¸ë²„ íš¨ê³¼ ì• ë‹ˆë©”ì´ì…˜ */
            }

            .board-table tbody tr:hover {
                background-color: #f8f9fa;
                cursor: pointer;
            }

            .board-table td.center {
                text-align: center;
                vertical-align: middle;
            }

            .board-table td.title {
                text-align: left;
                padding-left: 20px;
            }

            .board-table td.title a {
                color: #333;
                text-decoration: none;
                transition: color 0.2s;
            }

            .board-table td.title a:hover {
                color: #007bff;
                text-decoration: underline;
            }

            /* ëŒ“ê¸€ ìˆ˜ */
            .comment-count {

            }

            /* === ì¹´í…Œê³ ë¦¬ ë±ƒì§€ === */
            /* ëª¨ë“  ì¹´í…Œê³ ë¦¬ ë°°ì§€ì˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
            .category-badge {
                display: inline-block;
                padding: 4px 12px;
                border-radius: 12px;
                font-size: 12px;
                font-weight: bold;
                text-align: center;
                white-space: nowrap;        /*í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ë°©ì§€*/
            }

            /* ì¹´í…Œê³ ë¦¬ ê³µì§€ì‚¬í•­ - ë¹¨ê°„ìƒ‰ */
            .category-badge.NOTICE {
                background-color: #ff6b6b;
                color: white;
            }
            /* ì¹´í…Œê³ ë¦¬ ììœ ê²Œì‹œíŒ - ì²­ë¡ìƒ‰ */
            .category-badge.FREE {
                background-color: #4ecdc4;
                color: white;
            }
            /* ì¹´í…Œê³ ë¦¬ ì§ˆë¬¸ë‹µë³€ - ë…¸ë€ìƒ‰ */
            .category-badge.QNA {
                background-color: #ffd93d;
                color: #333;
            }
            /* ì¹´í…Œê³ ë¦¬ ë¦¬ë·° - ì—°ë‘ìƒ‰ */
            .category-badge.REVIEW {
                background-color: #a8e6cf;
                color: #sd5f3f;
            }

            /* í˜ì´ì§• ì˜ì—­ */
            .pagination {
                display:flex;               /* Flexbox ë ˆì´ì•„ì›ƒ ì‚¬ìš© */
                justify-content: center;    /* ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
                align-items: center;        /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
                gap: 5px;                   /* ë²„íŠ¼ê°„ ê°„ê²© */
                margin-top: 40px;           /* í…Œì´ë¸”ê³¼ì˜ ìƒë‹¨ ì—¬ë°± */
                padding: 20px 0;
            }
            /*í˜ì´ì§€ ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼*/
            .page-btn {
                min-width: 35px;             /* ìµœì†Œ ë„ˆë¹„ (ì •ì‚¬ê°í˜•ì— ê°€ê¹ê²Œ) */
                height:35px;                /* ê³ ì • ë†’ì´ */
                padding: 8px 12px;
                border: 1px solid #ddd;
                background-color: white;
                color: #333;
                text-decoration: none;
                border-radius: 4px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s;       /* ëª¨ë“  ì†ì„± ë³€í™”ì— 0.2ì´ˆ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
            }
            /* í˜ì´ì§€ ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼ */
            .page-btn:hover {
                background-color: #f8f9fa;
                border-color: #007bff;
                color: #007bff;
            }

            /* ì´ì „/ë‹¤ìŒ ê·¸ë£¹ ë²„íŠ¼ (<< ì´ì „, ë‹¤ìŒ >>) */
            .page-btn.nav {
                font-weight: bold;
            }
            /* ë¹„í™œì„± ìƒíƒœ (í´ë¦­ ë¶ˆê°€ ìƒíƒœ) */
            .page-btn.disabled {
                background-color: #f8f9fa;
                color: #ccc;
                border-color: #e9ecef;
                cursor: not-allowed;        /* ê¸ˆì§€ ì»¤ì„œ í‘œì‹œ */
                pointer-events: none;       /* í´ë¦­ ì´ë²¤íŠ¸ ì°¨ë‹¨ */
            }
        </style>
    </th:block>

</head>
<body>
    <!--ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ (layout.htmlì˜ <main>ì— ì‚½ì…ë¨)-->
    <div th:fragment="content">
        <div class="container my-4">
            <h1 class="mb-4">ğŸ“‹ ê²Œì‹œíŒ</h1>

            <!-- í—¤ë” : ì „ì²´ ê²Œì‹œê¸€ ìˆ˜ & ê¸€ì“°ê¸° ë²„íŠ¼ -->
            <div class="board-header">
                <!--ì „ì²´ ê²Œì‹œê¸€ ìˆ˜ í‘œì‹œ-->
                <div class="total-count">
                    ì „ì²´ <strong th:text="${totalElements}">0</strong>ê°œ
                </div>
                <!--ê¸€ì“°ê¸° ë²„íŠ¼ (ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ í‘œì‹œ)-->
                <a th:href="@{/boards/new}" class="btn-write" sec:authorize="isAuthenticated()">
                    âœï¸ ê¸€ì“°ê¸°
                </a>
            </div>

            <!--ê²Œì‹œê¸€ ëª©ë¡ í…Œì´ë¸” (ê²Œì‹œê¸€ì´ ìˆì„ ë•Œë§Œ í‘œì‹œ)-->
            <table class="board-table" th:if="${boards.hasContent()}">
                <thead>
                <tr>
                    <th style="width: 80px;">ë²ˆí˜¸</th>
                    <th style="width: 120px;">ì¹´í…Œê³ ë¦¬</th>
                    <th>ì œëª©</th>
                    <th style="width: 120px;">ì‘ì„±ì</th>
                    <th style="width: 80px;">ì¡°íšŒ</th>
                    <th style="width: 80px;">ì¢‹ì•„ìš”</th>
                    <th style="width: 150px;">ì‘ì„±ì¼</th>
                </tr>
                </thead>
                <tbody>
                <!--boards.contentë¥¼ ë°˜ë³µí•˜ë©° ê° ê²Œì‹œê¸€ ì¶œë ¥-->
                <!--th:each: Thymeleaf ë°˜ë³µë¬¸-->
                <tr th:each="board : ${boards.content}">
                    <!--ê²Œì‹œê¸€ ID-->
                    <td class="center" th:text="${board.id}">1</td>
                    <!--ì¹´í…Œê³ ë¦¬-->
                    <td class="center">
                        <!--th:classappend : ê¸°ì¡´ classì— ë™ì ìœ¼ë¡œ class ì¶”ê°€-->
                        <!--board.category.name() : Enumì˜ name()-->
                        <!--board.category.displayName : Enumì˜ displayName-->
                        <span class="category-badge" th:classappend="${board.category.name()}"
                              th:text="${board.category.displayName}">
                                ì¹´í…Œê³ ë¦¬
                        </span>
                    </td>
                    <!--ì œëª© (í´ë¦­ì‹œ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™)-->
                    <td class="title">
                        <a th:href="@{/boards/{id}(id=${board.id})}"
                           th:text="${board.title}">
                            ê²Œì‹œê¸€ ì œëª©
                        </a>
                        <!--ëŒ“ê¸€ ìˆ˜ í‘œì‹œ (ëŒ“ê¸€ì´ ìˆì„ ë•Œë§Œ)-->
                        <!--th:if  ì¡°ê±´ì´ ì°¸ì¼ ë•Œë§Œ ëœë”ë§-->
                        <span class="comment-count">
                                <span></span>
                            </span>
                    </td>

                    <!--ì‘ì„±ì ì´ë¦„-->
                    <td class="center" th:text="${board.authorName}">ì‘ì„±ì</td>
                    <!--ì¡°íšŒìˆ˜-->
                    <td class="center" th:text="${board.viewCount}">0</td>
                    <!--ì¢‹ì•„ìš” ìˆ˜-->
                    <td class="center" th:text="${board.likeCount}">0</td>
                    <!--ì‘ì„±ì¼ì‹œ-->
                    <!--#temporals: Thymeleafì˜ ë‚ ì§œ/ì‹œê°„ ìœ í‹¸ë¦¬í‹°-->
                    <td class="center" th:text="${#temporals.format(board.createdAt, 'yyyy-MM-dd HH:mm')}">2025-10-13</td>
                </tr>
                </tbody>

            </table>
            <!--ê²Œì‹œê¸€ ëª©ë¡ í…Œì´ë¸” (ê²Œì‹œê¸€ì´ ì—†ì„ ë•Œë§Œ í‘œì‹œ)-->
            <div class="empty-list" th:unless="${boards.hasContent()}">
                <p>ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ê²Œì‹œê¸€ì„ ì‘ì„±í•´ ë³´ì„¸ìš”.</p>
            </div>

            <!-- th:classappend="${!hasPrevGroup} ? 'disabled' : ''
                ì´ì „ í˜ì´ì§€ ê·¸ë£¹ì´ ì—†ì„ ë•Œ(hasPrevGroupì´ falseì¼ ë•Œ) ë²„íŠ¼ì´ ë¹„í™œì„±í™” ìƒíƒœ(disabled í´ë˜ìŠ¤ ì¶”ê°€)ë¡œ ë³´ì´ê²Œ í•˜ëŠ” ì½”ë“œ-->
            <!-- í˜ì´ì§• ì˜ì—­ (ê²Œì‹œê¸€ì´ ìˆê³ , ì „ì²´ í˜ì´ì§€ê°€ 1ê°œ ì´ìƒì¼ ë•Œë§Œ í‘œì‹œ) -->
            <div class="pagination" th:if="${boards.hasContent() and totalPages >0}">
                <!--ì´ì „ ë²„íŠ¼-->
                <a th:href="${hasPrevGroup} ? @{/boards(page=${prevGroupPage}, size=8)}: '#'"
                    th:classappend="${!hasPrevGroup} ? 'disabled' : '' "
                    class="page-btn nav">
                    << ì´ì „
                </a>
                <!-- í˜ì´ì§€ ë²ˆí˜¸ ë²„íŠ¼ë“¤ -->
                <a th:each="pageNum : ${#numbers.sequence(startPage, endPage)}"
                   th:href="@{/boards(page=${pageNum}, size=8)}"
                   th:text="${pageNum}"
                   th:classappend="${pageNum == currentPage} ? 'active' : ''"
                   class="page-btn">

                </a>

                <!--ë‹¤ìŒ ë²„íŠ¼-->
                <a th:href="${hasNextGroup} ? @{/boards(page=${nextGroupPage}, size=8)}: '#'"
                   th:classappend="${!hasNextGroup} ? 'disabled' : ''"
                   class="page-btn nav">
                    ë‹¤ìŒ >>
                </a>

            </div>
        </div>

    </div>

    <!--ê²Œì‹œíŒ ì „ìš© JavaScript (layout.htmlì˜ </body> íƒœê·¸ ë°”ë¡œ ì „ì— ì‚½ì…-->
    <th:block th:fragment="scripts">

    </th:block>
</body>
</html>